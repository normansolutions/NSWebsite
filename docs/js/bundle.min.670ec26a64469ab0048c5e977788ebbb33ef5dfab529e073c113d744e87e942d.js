!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.quicklink={})}(this,function(n){function e(n){return new Promise(function(e,t,o){(o=new XMLHttpRequest).open("GET",n,o.withCredentials=!0),o.onload=function(){200===o.status?e():t()},o.send()})}var t,o=(t=document.createElement("link")).relList&&t.relList.supports&&t.relList.supports("prefetch")?function(n){return new Promise(function(e,t,o){(o=document.createElement("link")).rel="prefetch",o.href=n,o.onload=e,o.onerror=t,document.head.appendChild(o)})}:e,i=window.requestIdleCallback||function(n){var e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},r=new Set;function c(n,t,i){if(!(i=navigator.connection)||!i.saveData&&!/2g/.test(i.effectiveType))return Promise.all([].concat(n).map(function(n){if(!r.has(n))return r.add(n),(t?function(n){return window.fetch?fetch(n,{credentials:"include"}):e(n)}:o)(new URL(n,location.href).toString())}))}n.listen=function(n){if(n||(n={}),window.IntersectionObserver){var e=function(n){n=n||1;var e=[],t=0;function o(){t<n&&e.length>0&&(e.shift()(),t++)}return[function(n){e.push(n)>1||o()},function(){t--,o()}]}(n.throttle||1/0),t=e[0],o=e[1],u=n.limit||1/0,f=n.origins||[location.hostname],s=n.ignores||[],a=n.timeoutFn||i,l=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(l.unobserve(e=e.target),r.size<u&&t(function(){c(e.href,n.priority).then(o).catch(function(e){o(),n.onError&&n.onError(e)})}))})});return a(function(){(n.el||document).querySelectorAll("a").forEach(function(n){f.length&&!f.includes(n.hostname)||function n(e,t){return Array.isArray(t)?t.some(function(t){return n(e,t)}):(t.test||t).call(t,e.href,e)}(n,s)||l.observe(n)})},{timeout:n.timeout||2e3}),function(){r.clear(),l.disconnect()}}},n.prefetch=c});;window.addEventListener("load",()=>{quicklink.listen({origins:!0,priority:!0});});window.onload=function(){var anchors=document.getElementById('ns-target').getElementsByTagName('a');for(var i=0;i<anchors.length;i++){anchors[i].setAttribute('target','_blank');}}
window.addEventListener("load",function(){var timer,images,viewHeight;function init(){images=document.body.querySelectorAll("[data-src]");viewHeight=Math.max(document.documentElement.clientHeight,window.innerHeight);lazyload(0);}
function scroll(){lazyload(200);}
function lazyload(delay){if(timer){return;}
timer=setTimeout(function(){var changed=false;requestAnimationFrame(function(){for(var i=0;i<images.length;i++){var img=images[i];var rect=img.getBoundingClientRect();if(!(rect.bottom<0||rect.top-100-viewHeight>=0)){img.onload=function(e){e.target.className="loaded";};img.className="notloaded";img.src=img.getAttribute("data-src");img.removeAttribute("data-src");changed=true;}}
if(changed){filterImages();}
timer=null;});},delay);}
function filterImages(){images=Array.prototype.filter.call(images,function(img){return img.hasAttribute("data-src");});if(images.length===0){window.removeEventListener("scroll",scroll);window.removeEventListener("resize",init);return;}}
window.requestAnimationFrame=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1000/60);});})();window.addEventListener("scroll",scroll);window.addEventListener("resize",init);init();});window.addEventListener("load",()=>{const params=new URLSearchParams(window.location.search);var postsList=params.get("post");if(postsList=="allposts"){var divsToHide=document.getElementsByClassName("ns-post-summary");for(var i=0;i<divsToHide.length;i++){divsToHide[i].style.visibility="hidden";divsToHide[i].style.display="none";}
var appendToPageLink=document.getElementsByClassName("page-link");for(var i=0;i<appendToPageLink.length;i++){appendToPageLink[i].href=appendToPageLink[i].href+"?post=allposts";}}});if(navigator.share){const shareButton=document.querySelector(".ns-share-btn");shareButton.style.visibility="visible";shareButton.addEventListener("click",(event)=>{navigator.share({title:document.title,url:document.location.href});});}