<?xml version="1.0" encoding="utf-8"?>
<post>
  <title>Happy with a hack?</title>
  <slug>happy-with-a-hack</slug>
  <author></author>
  <pubDate>2014-10-03 21:37:41</pubDate>
  <lastModified>2014-12-01 11:48:14</lastModified>
  <content>&lt;p&gt;Most software developers at some point, will almost certainly encounter the need to &lt;a href="http://en.wikipedia.org/wiki/Kludge#In_computer_science" target="_blank"&gt;hack&lt;/a&gt; together a solution.&lt;/p&gt; &lt;p&gt;To quote Wikipedia, the term &lt;strong&gt;hack&lt;/strong&gt;, for the purposes of this blog post is:&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;&lt;em&gt;‘'a solution to a problem, doing a task, or fixing a system that is inefficient, inelegant, or even unfathomable, but which nevertheless (more or less) works."&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt; &lt;p&gt;Let me register now - &lt;strong&gt;I don't like 'hacking' solutions together. &lt;/strong&gt; Some people are perfectly fine with it &lt;em&gt;(I personally know many who are);&lt;/em&gt; but whether it is an OCD tendency, a touch of perfectionism or just professional satisfaction, I always feel &lt;em&gt;very&lt;/em&gt; uncomfortable when I have to hack together the resolution to a problem.&lt;/p&gt; &lt;p&gt;&lt;em&gt;&lt;strong&gt;However, sometimes you genuinely have no choice!&lt;/strong&gt;&lt;/em&gt;  &lt;hr&gt;  &lt;h2&gt;Recently, was one such time&lt;/h2&gt; &lt;p&gt;&lt;a href="http://www.st-marys-shaftesbury.co.uk/" target="_blank"&gt;St Mary's Shaftesbury&lt;/a&gt; commissioned the creation of three marketing videos from &lt;a href="http://www.morethanmedia.tv/" target="_blank"&gt;More Than Media&lt;/a&gt; - personally, I think these videos are pretty darn excellent - I hope you agree:&lt;/p&gt; &lt;p&gt;Here's an example of the main one:&lt;/p&gt;&lt;iframe height="281" src="//player.vimeo.com/video/103632940" frameborder="0" width="500" mozallowfullscreen webkitallowfullscreen allowfullscreen&gt;&lt;/iframe&gt; &lt;hr&gt;  &lt;p&gt;Once the videos were ready for public consumption, it was an obvious requirement for them to be placed onto the school website.&amp;nbsp; Without digressing into the mechanics of the school website &lt;a href="http://en.wikipedia.org/wiki/Content_management_system" target="_blank"&gt;CMS&lt;/a&gt;, suffice to say, that beyond the usual editing and blogging options, there is no easy way of changing the main site structure, in-house.&lt;/p&gt; &lt;p&gt;To my knowledge, this requires a change request being made to the company responsible for the CMS, no doubt levying a financial charge, alongside the obvious development delay.&lt;/p&gt; &lt;p&gt;Not an ideal solution for a &lt;em&gt;&lt;strong&gt;‘can it be done by the end of the day’&lt;/strong&gt;&lt;/em&gt; type of request!&lt;/p&gt; &lt;h2&gt;Enter the hack&lt;/h2&gt; &lt;p&gt;It was agreed that the top banner of the site, which at the time, was hard coded with a slide show, would be the best location for the videos - especially using &lt;a href="http://vimeo.com/tools/widget" target="_blank"&gt;Vimeo's Hubnut&lt;/a&gt; solution, which is designed to neatly display multiple videos in one slot &lt;em&gt;(more on Hubnut in a moment).&lt;/em&gt;&lt;/p&gt; &lt;p&gt;In short, the solution I came up with, was to &lt;em&gt;dynamically&lt;/em&gt;, on page load, replace the html content in this banner, with a 'responsive coded iframe' - horrid I know, but hey, little choice!&lt;/p&gt; &lt;p&gt;Frankly, it worked &lt;em&gt;(it's worth noting that I used a great site called &lt;a href="http://embedresponsively.com/" target="_blank"&gt;embedresponsively&lt;/a&gt;&lt;/em&gt;&lt;em&gt;&lt;/em&gt;&amp;nbsp;&lt;em&gt;to get nice responsive embed code for Vimeo - I highly recommend you check it out, if you’re ever embedding videos).&lt;/em&gt;  &lt;hr&gt;  &lt;h2&gt;So, all done? &lt;em&gt;Not quite!&lt;/em&gt;&lt;/h2&gt; &lt;p&gt;It transpires that the aforementioned Vimeo Hubnut, is a &lt;a href="http://get.adobe.com/flashplayer/" target="_blank"&gt;Flash&lt;/a&gt; only solution&lt;em&gt; (at the time of writing).&lt;/em&gt;&lt;/p&gt; &lt;p&gt;So, when viewing the website on an iPad - &lt;strong&gt;yep, you've got it&lt;/strong&gt; - a nice blank space at the top of the page, instead of a video!&lt;/p&gt; &lt;p&gt;So, progressing further down the rabbit hole of this hack, I now had little option but to &lt;a href="https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent" target="_blank"&gt;sniff the user agent string&lt;/a&gt;, and then conditionally display the video(s) as appropriate to the device (e&lt;em&gt;.g. if it's an &lt;a href="http://en.wikipedia.org/wiki/IOS" target="_blank"&gt;IOS&lt;/a&gt; device, don't use the Vimeo Hubnut).&lt;/em&gt;&lt;/p&gt; &lt;p&gt;So, resurrecting some old JavaScript code from a previous life - I applied this &lt;em&gt;hack to the hack!&lt;/em&gt;&lt;/p&gt; &lt;hr&gt;  &lt;h2&gt;All done now? &lt;em&gt;Not quite!&lt;/em&gt;&lt;/h2&gt; &lt;p&gt;Feeling reasonably comfortable with the process, I went home for the weekend, only to establish that on my &lt;a href="http://www.microsoft.com/surface/en-gb" target="_blank"&gt;Microsoft Surface&lt;/a&gt;, I &lt;em&gt;also&lt;/em&gt; couldn't see the videos – &lt;strong&gt;O&lt;em&gt;h dear, I politely said to myself.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;Agent string sniffing here, was &lt;strong&gt;not&lt;/strong&gt; going to provide me with the answer.&lt;/p&gt; &lt;p&gt;So after referencing the techies handbook &lt;em&gt;(aka Google)&lt;/em&gt; – I discovered a method of being able to establish whether a device has Flash installed (both as an ActiveX or as a plug-in).&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;&lt;em&gt;Once this hack on hack on hack was applied - all was well – oh my!&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt; &lt;hr&gt;  &lt;p&gt;Below is the final code that was used on the site:&lt;/p&gt;&lt;script gitsrc="https://gist.github.com/normansolutions/2565b3726be0f63e1fc6.js"&gt;&lt;/script&gt;&lt;noscript&gt;&lt;a href="https://gist.github.com/2565b3726be0f63e1fc6"&gt;Click for code snippet&lt;/a&gt;&lt;/noscript&gt;  &lt;hr&gt;  &lt;h2&gt;So, to answer the title of this blog post&lt;/h2&gt; &lt;p&gt;&lt;strong&gt;Am I happy with a hack&lt;/strong&gt;? &lt;strong&gt;&lt;u&gt;NO&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Does it work, and is everybody else happy?&lt;/strong&gt; &lt;u&gt;&lt;strong&gt;YES&lt;/strong&gt;&lt;/u&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Feel free to draw your own conclusion &lt;img class="wlEmoticon wlEmoticon-smile" style="border-top-style: none; border-bottom-style: none; border-right-style: none; border-left-style: none" alt="Smile" src="https://normansolutions.co.uk/posts/files/603c157d-0eba-4fd6-ac27-8efa2e9da463.png"&gt;&lt;/strong&gt;&lt;/p&gt;</content>
  <ispublished>true</ispublished>
  <categories>
    <category>Website</category>
    <category>Script</category>
    <category>CMS</category>
    <category>JavaScript</category>
  </categories>
  <comments></comments>
</post>